"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var React=require("react"),React__default=_interopDefault(React);function __spreadArrays(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var a=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],i=0,c=o.length;i<c;i++,n++)a[n]=o[i];return a}function arraysEqual(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var r=__spreadArrays(t).sort(),a=__spreadArrays(e).sort(),n=0;n<r.length;n+=1)if(r[n]!==a[n])return!1;return!0}function getRandomInRange(t,e){var r=Math.ceil(t),a=Math.floor(e);return Math.floor(Math.random()*(a-r+1))+r}var getWords=function(t){for(var e=t.width,r=t.colors,a=t.wordWidths,n=t.wordDistances,o=t.truncate,i=Math.min.apply(Math,a),c=Math.floor(e/i),d=getRandomInRange(Math.max(0,o?1:c-Math.floor(c/2)),o?Math.floor(c/2):c),u=[],s=0,l=0;l<d;l+=1){var h=a[getRandomInRange(0,a.length-1)],f=n[getRandomInRange(0,n.length-1)];if(s+h+f>e)break;s+=h+f;var g=r[getRandomInRange(0,r.length-1)];u.push({width:h,space:f,background:g})}return u};function usePrevious(t){var e=React.useRef();return React.useEffect((function(){e.current=t})),e.current}var DrawLine=function(t){var e=t.width,r=t.colors,a=t.wordWidths,n=t.wordDistances,o=t.wordHeight,i=t.lineDistance,c=t.truncate,d=usePrevious({width:e,colors:r,wordWidths:a,wordDistances:n,wordHeight:o,lineDistance:i,truncate:c}),u=React.useState((function(){return getWords({width:e,colors:r,wordWidths:a,wordDistances:n,truncate:c})})),s=u[0],l=u[1];return React.useEffect((function(){if(d&&(d.width!==e||d.wordHeight!==o||d.lineDistance!==i||d.truncate!==c||!arraysEqual(d.wordWidths,a)||!arraysEqual(d.wordDistances,n)||!arraysEqual(d.colors,r))){var t=getWords({width:e,colors:r,wordWidths:a,wordDistances:n,truncate:c});l(t)}}),[d,e,r,a,n,c,o,i]),React__default.createElement(React__default.Fragment,null,s.map((function(t,e){var r=t.width,n=t.space,c=t.background;return React__default.createElement("span",{key:e,style:{width:r,marginRight:n,height:o,background:c,display:"inline-block",borderRadius:Math.max.apply(Math,a),marginBottom:i}})})))},DrawLine$1=React.memo(DrawLine),Spectrum=function(t){var e=t.width,r=void 0===e?500:e,a=t.colors,n=void 0===a?["#eee"]:a,o=t.wordWidths,i=void 0===o?[30,60,90,120,150]:o,c=t.wordDistances,d=void 0===c?[4,8,12]:c,u=t.linesPerParagraph,s=void 0===u?8:u,l=t.wordHeight,h=void 0===l?12:l,f=t.lineDistance,g=void 0===f?12:f,w=t.paragraphs,m=void 0===w?1:w,v=t.paragraphDistance,p=void 0===v?24:v,R=t.truncateLastLine,_=void 0===R||R;return React__default.createElement(React__default.Fragment,null,new Array(m).fill(!0).map((function(t,e){var a=new Array(s).fill(!0).map((function(t,e){return React__default.createElement("div",{"data-line":e,key:e},React__default.createElement(DrawLine$1,{width:r,colors:n,wordWidths:i,wordDistances:d,wordHeight:h,lineDistance:g,truncate:!!_&&e===s-1}))}));return React__default.createElement("div",{"data-paragraph":e,key:e,style:{marginBottom:p,fontSize:0}},a)})))},Spectrum$1=React.memo(Spectrum);module.exports=Spectrum$1;
//# sourceMappingURL=react-spectrum.js.map
