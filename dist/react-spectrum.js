"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var React=require("react"),React__default=_interopDefault(React);function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,d=i.length;o<d;o++,n++)a[n]=i[o];return a}function arraysEqual(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var r=__spreadArrays(e).sort(),a=__spreadArrays(t).sort(),n=0;n<r.length;n+=1)if(r[n]!==a[n])return!1;return!0}function getRandomInRange(e,t){var r=Math.ceil(e),a=Math.floor(t);return Math.floor(Math.random()*(a-r+1))+r}var getWords=function(e){for(var t=e.width,r=e.colors,a=e.wordWidths,n=e.wordDistances,i=e.truncate,o=Math.min.apply(Math,a),d=Math.floor(t/o),c=getRandomInRange(Math.max(0,i?1:d-Math.floor(d/2)),i?Math.floor(d/2):d),u=[],s=0,l=0;l<c;l+=1){var f=a[getRandomInRange(0,a.length-1)],h=n[getRandomInRange(0,n.length-1)],w=s+f;s=w+h;var g=w<=t&&s>t,v=s<=t;if(!g&&!v){var R=__spreadArrays(u).reverse()[0];R&&(R.distance=0);break}g&&!v&&(h=0);var m=r[getRandomInRange(0,r.length-1)];if(u.push({width:f,distance:h,background:m}),g&&!v)break}return u};function usePrevious(e){var t=React.useRef();return React.useEffect((function(){t.current=e})),t.current}var DrawLine=function(e){var t=e.width,r=e.colors,a=e.wordWidths,n=e.wordDistances,i=e.wordHeight,o=e.wordRadius,d=e.lineDistance,c=e.truncate,u=usePrevious({width:t,colors:r,wordWidths:a,wordDistances:n,wordHeight:i,wordRadius:o,lineDistance:d,truncate:c}),s=React.useState((function(){return getWords({width:t,colors:r,wordWidths:a,wordDistances:n,truncate:c})})),l=s[0],f=s[1];return React.useEffect((function(){if(u&&(u.width!==t||u.wordHeight!==i||u.wordRadius!==o||u.lineDistance!==d||u.truncate!==c||!arraysEqual(u.wordWidths,a)||!arraysEqual(u.wordDistances,n)||!arraysEqual(u.colors,r))){var e=getWords({width:t,colors:r,wordWidths:a,wordDistances:n,truncate:c});f(e)}}),[u,t,r,a,n,c,i,o,d]),React__default.createElement(React__default.Fragment,null,l.map((function(e,t){var r=e.width,a=e.distance,n=e.background;return React__default.createElement("span",{key:t,style:{width:r,marginRight:a,height:i,background:n,display:"inline-block",borderRadius:o,marginBottom:d}})})))},DrawLine$1=React.memo(DrawLine),Spectrum=function(e){var t=e.width,r=void 0===t?500:t,a=e.colors,n=void 0===a?["#eee"]:a,i=e.wordWidths,o=void 0===i?[30,60,90,120,150]:i,d=e.wordDistances,c=void 0===d?[4,8,12]:d,u=e.wordHeight,s=void 0===u?12:u,l=e.wordRadius,f=void 0===l?20:l,h=e.linesPerParagraph,w=void 0===h?8:h,g=e.lineDistance,v=void 0===g?12:g,R=e.paragraphs,m=void 0===R?1:R,_=e.paragraphDistance,p=void 0===_?24:_,D=e.truncateLastLine,y=void 0===D||D;return React__default.createElement(React__default.Fragment,null,new Array(m).fill(!0).map((function(e,t){var a=new Array(w).fill(!0).map((function(e,t){return React__default.createElement("div",{"data-line":t,key:t},React__default.createElement(DrawLine$1,{width:r,colors:n,wordWidths:o,wordDistances:c,wordHeight:s,wordRadius:f,lineDistance:v,truncate:!!y&&t===w-1}))}));return React__default.createElement("div",{"data-paragraph":t,key:t,style:{marginBottom:p,fontSize:0}},a)})))},Spectrum$1=React.memo(Spectrum);module.exports=Spectrum$1;
//# sourceMappingURL=react-spectrum.js.map
