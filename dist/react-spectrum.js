"use strict";var React=require("react");function __spreadArrays(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;var a=Array(r),n=0;for(e=0;e<t;e++)for(var i=arguments[e],o=0,d=i.length;o<d;o++,n++)a[n]=i[o];return a}function arraysEqual(r,e){if(r===e)return!0;if(null==r||null==e)return!1;if(r.length!==e.length)return!1;for(var t=__spreadArrays(r).sort(),a=__spreadArrays(e).sort(),n=0;n<t.length;n+=1)if(t[n]!==a[n])return!1;return!0}function getRandomInRange(r,e){var t=Math.ceil(r),a=Math.floor(e);return Math.floor(Math.random()*(a-t+1))+t}var getWords=function(r){for(var e=r.width,t=r.colors,a=r.wordWidths,n=r.wordDistances,i=r.truncate,o=Math.min.apply(Math,a),d=Math.floor(e/o),s=getRandomInRange(Math.max(0,i?1:d-Math.floor(d/2)),i?Math.floor(d/2):d),c=[],u=0,l=0;l<s;l+=1){var h=a[getRandomInRange(0,a.length-1)],w=n[getRandomInRange(0,n.length-1)],g=u+h;u=g+w;var f=g<=e&&u>e,v=u<=e;if(!f&&!v){var m=__spreadArrays(c).reverse()[0];m&&(m.distance=0);break}f&&!v&&(w=0);var R=t[getRandomInRange(0,t.length-1)];if(c.push({width:h,distance:w,background:R}),f&&!v)break}return c};function usePrevious(r){var e=React.useRef();return React.useEffect((function(){e.current=r})),e.current}var DrawLine=function(r){var e=r.width,t=r.colors,a=r.wordWidths,n=r.wordDistances,i=r.wordHeight,o=r.wordRadius,d=r.lineDistance,s=r.truncate,c=usePrevious({width:e,colors:t,wordWidths:a,wordDistances:n,wordHeight:i,wordRadius:o,lineDistance:d,truncate:s}),u=React.useState((function(){return getWords({width:e,colors:t,wordWidths:a,wordDistances:n,truncate:s})})),l=u[0],h=u[1];return React.useEffect((function(){if(c&&(c.width!==e||c.wordHeight!==i||c.wordRadius!==o||c.lineDistance!==d||c.truncate!==s||!arraysEqual(c.wordWidths,a)||!arraysEqual(c.wordDistances,n)||!arraysEqual(c.colors,t))){var r=getWords({width:e,colors:t,wordWidths:a,wordDistances:n,truncate:s});h(r)}}),[c,e,t,a,n,s,i,o,d]),React.createElement(React.Fragment,null,l.map((function(r,e){var t=r.width,a=r.distance,n=r.background;return React.createElement("span",{key:e,style:{width:t,marginRight:a,height:i,background:n,display:"inline-block",borderRadius:o,marginBottom:d}})})))},DrawLine$1=React.memo(DrawLine),Spectrum=function(r){var e=r.width,t=void 0===e?500:e,a=r.colors,n=void 0===a?["#eee"]:a,i=r.wordWidths,o=void 0===i?[30,60,90,120,150]:i,d=r.wordDistances,s=void 0===d?[4,8,12]:d,c=r.wordHeight,u=void 0===c?12:c,l=r.wordRadius,h=void 0===l?20:l,w=r.linesPerParagraph,g=void 0===w?8:w,f=r.lineDistance,v=void 0===f?12:f,m=r.paragraphs,R=void 0===m?1:m,p=r.paragraphDistance,y=void 0===p?24:p,D=r.truncateLastLine,E=void 0===D||D;return React.createElement(React.Fragment,null,new Array(R).fill(!0).map((function(r,e){var a=new Array(g).fill(!0).map((function(r,e){return React.createElement("div",{"data-line":e,key:e},React.createElement(DrawLine$1,{width:t,colors:n,wordWidths:o,wordDistances:s,wordHeight:u,wordRadius:h,lineDistance:v,truncate:!!E&&e===g-1}))}));return React.createElement("div",{"data-paragraph":e,key:e,style:{marginBottom:y,fontSize:0}},a)})))},Spectrum$1=React.memo(Spectrum);module.exports=Spectrum$1;
//# sourceMappingURL=react-spectrum.js.map
