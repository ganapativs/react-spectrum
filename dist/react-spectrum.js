"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var React=require("react"),React__default=_interopDefault(React);function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,d=o.length;i<d;i++,n++)a[n]=o[i];return a}function arraysEqual(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var r=__spreadArrays(e).sort(),a=__spreadArrays(t).sort(),n=0;n<r.length;n+=1)if(r[n]!==a[n])return!1;return!0}function getRandomInRange(e,t){var r=Math.ceil(e),a=Math.floor(t);return Math.floor(Math.random()*(a-r+1))+r}var getWords=function(e){for(var t=e.width,r=e.colors,a=e.wordWidths,n=e.wordDistances,o=e.truncate,i=Math.min.apply(Math,a),d=Math.floor(t/i),c=getRandomInRange(Math.max(0,o?1:d-Math.floor(d/2)),o?Math.floor(d/2):d),u=[],s=0,l=0;l<c;l+=1){var f=a[getRandomInRange(0,a.length-1)],h=n[getRandomInRange(0,n.length-1)];if(s+f+h>t){var w=__spreadArrays(u).reverse()[0];w&&(w.distance=0);break}s+=f+h;var g=r[getRandomInRange(0,r.length-1)];u.push({width:f,distance:h,background:g})}return u};function usePrevious(e){var t=React.useRef();return React.useEffect((function(){t.current=e})),t.current}var DrawLine=function(e){var t=e.width,r=e.colors,a=e.wordWidths,n=e.wordDistances,o=e.wordHeight,i=e.wordRadius,d=e.lineDistance,c=e.truncate,u=usePrevious({width:t,colors:r,wordWidths:a,wordDistances:n,wordHeight:o,wordRadius:i,lineDistance:d,truncate:c}),s=React.useState((function(){return getWords({width:t,colors:r,wordWidths:a,wordDistances:n,truncate:c})})),l=s[0],f=s[1];return React.useEffect((function(){if(u&&(u.width!==t||u.wordHeight!==o||u.wordRadius!==i||u.lineDistance!==d||u.truncate!==c||!arraysEqual(u.wordWidths,a)||!arraysEqual(u.wordDistances,n)||!arraysEqual(u.colors,r))){var e=getWords({width:t,colors:r,wordWidths:a,wordDistances:n,truncate:c});f(e)}}),[u,t,r,a,n,c,o,i,d]),React__default.createElement(React__default.Fragment,null,l.map((function(e,t){var r=e.width,a=e.distance,n=e.background;return React__default.createElement("span",{key:t,style:{width:r,marginRight:a,height:o,background:n,display:"inline-block",borderRadius:i,marginBottom:d}})})))},DrawLine$1=React.memo(DrawLine),Spectrum=function(e){var t=e.width,r=void 0===t?500:t,a=e.colors,n=void 0===a?["#eee"]:a,o=e.wordWidths,i=void 0===o?[30,60,90,120,150]:o,d=e.wordDistances,c=void 0===d?[4,8,12]:d,u=e.wordHeight,s=void 0===u?12:u,l=e.wordRadius,f=void 0===l?20:l,h=e.linesPerParagraph,w=void 0===h?8:h,g=e.lineDistance,R=void 0===g?12:g,v=e.paragraphs,m=void 0===v?1:v,_=e.paragraphDistance,p=void 0===_?24:_,D=e.truncateLastLine,y=void 0===D||D;return React__default.createElement(React__default.Fragment,null,new Array(m).fill(!0).map((function(e,t){var a=new Array(w).fill(!0).map((function(e,t){return React__default.createElement("div",{"data-line":t,key:t},React__default.createElement(DrawLine$1,{width:r,colors:n,wordWidths:i,wordDistances:c,wordHeight:s,wordRadius:f,lineDistance:R,truncate:!!y&&t===w-1}))}));return React__default.createElement("div",{"data-paragraph":t,key:t,style:{marginBottom:p,fontSize:0}},a)})))},Spectrum$1=React.memo(Spectrum);module.exports=Spectrum$1;
//# sourceMappingURL=react-spectrum.js.map
